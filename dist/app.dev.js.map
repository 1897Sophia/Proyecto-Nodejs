{"version":3,"sources":["app.js"],"names":["express","require","path","cookieParser","logger","mongoose","config","indexRouter","usersRouter","app","set","join","__dirname","use","json","urlencoded","extended","uri","process","env","USER","PASSWORD","DBNAME","connect","useNewUrlParser","useUnifiedTopology","then","console","log","e","req","res","next","createError","err","locals","message","error","get","status","render","port","PORT","listen","module","exports"],"mappings":"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","sourcesContent":["const express = require('express');\nconst path = require('path');\nconst cookieParser = require('cookie-parser');\nconst logger = require('morgan');\nconst mongoose = require('mongoose');\nrequire('dotenv').config();\n\nconst indexRouter = require('./routes/index');\nconst usersRouter = require('./routes/users');\n\nconst app = express();\n\n// view engine setup\napp.set('views', path.join(__dirname, 'views'));\napp.set('view engine', 'pug');\n\napp.use(logger('dev'));\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\napp.use(cookieParser());\napp.use(express.static(path.join(__dirname, 'public')));\n\napp.use('/', indexRouter);\napp.use('/users', usersRouter);\n\n// MongoDB connection\nconst uri = `mongodb+srv://${process.env.USER}:${process.env.PASSWORD}@cluster0.3hbs38c.mongodb.net/${process.env.DBNAME}?retryWrites=true&w=majority`;\n\nmongoose.connect(uri, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n})\n  .then(() => console.log(\"Base de datos conectada\"))\n  .catch(e => console.log(e));\n\n// catch 404 and forward to error handler\napp.use(function(req, res, next) {\n  next(createError(404));\n});\n\n// error handler\napp.use(function(err, req, res, next) {\n  res.locals.message = err.message;\n  res.locals.error = req.app.get('env') === 'development' ? err : {};\n  res.status(err.status || 500);\n  res.render('error');\n});\n\n// Start the server\nconst port = process.env.PORT || 3000;\napp.listen(port, () => {\n  console.log(`Servidor iniciado en puerto ${port}`);\n});\n\nmodule.exports = app;\n"],"file":"app.dev.js"}